class Nodo:
    def __init__(self, numero, cor):
        self.numero = numero
        self.cor = cor
        self.proximo = None

class ListaEspera:
    def __init__(self):
        self.head = None

    def inserirSemPrioridade(self, novo_paciente):
        print("=== INICIANDO INSERÇÃO SEM PRIORIDADE ===")
        print(f"Novo paciente: {novo_paciente.cor}{novo_paciente.numero}")

        # Se a lista estiver vazia
        if self.head is None:
            print("A fila está vazia. Inserindo como primeiro da fila.")
            self.head = novo_paciente
            return

        # Se já existe alguém na fila
        print("A fila não está vazia. Vamos procurar o final da fila.")

        ponteiro = self.head
        passo = 0

        while ponteiro.proximo is not None:
            print(f"PASSO {passo}:")
            print(f"  Estou olhando para o paciente {ponteiro.cor}{ponteiro.numero}")
            print(f"  Ele aponta para {ponteiro.proximo.cor}{ponteiro.proximo.numero}")
            ponteiro = ponteiro.proximo
            passo += 1

        # Quando .proximo for None, significa que achamos o último
        print(f"PASSO {passo}:")
        print(f"  Estou olhando para o paciente {ponteiro.cor}{ponteiro.numero}")
        print("  Ele não aponta para ninguém (proximo == None)")
        print("  Vamos fazer ele apontar para o novo paciente.")

        ponteiro.proximo = novo_paciente

        print(f"  Agora {ponteiro.cor}{ponteiro.numero} aponta para {novo_paciente.cor}{novo_paciente.numero}")
        print("=== INSERÇÃO FINALIZADA ===\n")

    def exibir(self):
        print("=== FILA DE ESPERA ATUAL ===")
        atual = self.head
        if not atual:
            print("Fila vazia.")
            return

        while atual:
            print(f"{atual.cor}{atual.numero} → ", end="")
            atual = atual.proximo
        print("None\n")



# Criar a fila
fila = ListaEspera()

# Inserir A201
p1 = Nodo(201, 'A')
fila.inserirSemPrioridade(p1)
fila.exibir()

# Inserir A202
p2 = Nodo(202, 'A')
fila.inserirSemPrioridade(p2)
fila.exibir()

# Inserir V1
p3 = Nodo(1, 'V')
fila.inserirSemPrioridade(p3)
fila.exibir()



